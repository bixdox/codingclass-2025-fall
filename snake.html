<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Baby Snake üêç</title>
  <style>
    html, body { height: 100%; }
    body { margin: 0; display:grid; place-items:center; background:#fffbe6; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; }
    .game { text-align:center; }
    h1 { margin:.25rem 0; font-size: 2.2rem; letter-spacing: 1px; }
    .big { font-size: 1.1rem; margin:.25rem 0 .75rem; }
    canvas { background:#b3e5ff; border:6px solid #222; border-radius:16px; display:block; margin: 0 auto; image-rendering: pixelated; }
    button { font-size:1.2rem; padding:.6rem 1.1rem; border-radius:12px; border:3px solid #222; background:#ffd166; cursor:pointer; }
    button:active { transform: translateY(1px); }
    .score { font-size:1.25rem; margin:.5rem 0 1rem; }
  </style>
</head>
<body>
  <div class="game">
    <h1>S N A K E</h1>
    <div class="big">Use Arrow Keys. Eat the red squares. Walls wrap around!</div>
    <div class="score">Score: <span id="score">0</span></div>
    <canvas id="board" width="400" height="400" aria-label="Snake game" role="img"></canvas>
    <div style="margin-top:12px;">
      <button id="play">Play</button>
      <button id="restart">Restart</button>
    </div>
  </div>

  <script>
    (function(){
      const grid = 20;               // 20x20 big chunky board
      const canvas = document.getElementById('board');
      const c = canvas.getContext('2d');
      const scoreEl = document.getElementById('score');
      const btnPlay = document.getElementById('play');
      const btnRestart = document.getElementById('restart');

      const SNAKE = '#00cc66';       // bright green
      const HEAD  = '#00e676';       // brighter head
      const FOOD  = '#ff2845';       // candy red
      const GRIDC = '#a7d8ff';

      let snake, dir, nextDir, food, score, timer, alive;

      function reset(){
        snake = [ {x:10,y:10}, {x:9,y:10} ];
        dir = {x:1,y:0};
        nextDir = {x:1,y:0};
        food = randFood();
        score = 0; scoreEl.textContent = score;
        alive = true;
        draw();
      }

      function randFood(){
        while(true){
          const cell = { x: Math.floor(Math.random()*grid), y: Math.floor(Math.random()*grid) };
          if (!snake.some(p=>p.x===cell.x && p.y===cell.y)) return cell;
        }
      }

      function step(){
        if(!alive) return;
        if (nextDir.x !== -dir.x || nextDir.y !== -dir.y) dir = nextDir;
        let head = { x: snake[0].x + dir.x, y: snake[0].y + dir.y };
        // wrap-around walls (cute & forgiving)
        head.x = (head.x + grid) % grid;
        head.y = (head.y + grid) % grid;

        const willGrow = (head.x===food.x && head.y===food.y);
        const bodyToCheck = willGrow ? snake : snake.slice(0, snake.length-1);
        if (bodyToCheck.some(p=>p.x===head.x && p.y===head.y)) {
          alive = false; drawGameOver(); clearInterval(timer); return;
        }
        snake.unshift(head);
        if (willGrow){ score++; scoreEl.textContent = score; food = randFood(); }
        else { snake.pop(); }
        draw();
      }

      function draw(){
        const tile = canvas.width / grid;
        // sky background
        c.fillStyle = '#b3e5ff'; c.fillRect(0,0,canvas.width,canvas.height);
        // soft grid
        c.strokeStyle = GRIDC; c.lineWidth = 1; c.beginPath();
        for(let i=1;i<grid;i++){ const p = Math.round(i*tile)+.5; c.moveTo(p,0); c.lineTo(p,canvas.height); c.moveTo(0,p); c.lineTo(canvas.width,p);} c.stroke();
        // food
        drawCell(food.x, food.y, FOOD);
        // snake
        snake.forEach((p,i)=> drawCell(p.x,p.y, i===0?HEAD:SNAKE));
      }

      function drawCell(x,y,color){
        const t = canvas.width / grid; const m = 3; const px = x*t+m, py=y*t+m, s=t-m*2;
        c.fillStyle = color; c.fillRect(px,py,s,s);
      }

      function drawGameOver(){
        draw();
        c.fillStyle = 'rgba(0,0,0,.2)'; c.fillRect(0,0,canvas.width,canvas.height);
        c.fillStyle = '#222'; c.font = 'bold 28px system-ui, sans-serif'; c.textAlign='center';
        c.fillText('Game Over', canvas.width/2, canvas.height/2 - 6);
        c.font = '16px system-ui, sans-serif';
        c.fillText('Press Restart', canvas.width/2, canvas.height/2 + 20);
      }

      // controls
      window.addEventListener('keydown', (e)=>{
        const k = e.key;
        if (k==='ArrowUp') nextDir={x:0,y:-1};
        else if (k==='ArrowDown') nextDir={x:0,y:1};
        else if (k==='ArrowLeft') nextDir={x:-1,y:0};
        else if (k==='ArrowRight') nextDir={x:1,y:0};
      });

      btnPlay.addEventListener('click', ()=>{ if(timer) clearInterval(timer); timer=setInterval(step, 130); });
      btnRestart.addEventListener('click', ()=>{ clearInterval(timer); reset(); });

      // boot
      reset();
    })();
  </script>
</body>
</html>